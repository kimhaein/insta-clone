include ./uiBlock

mixin contentBlock(content = {})
    .contentsBox
        .contentsHeader
            .creatorBox(onclick=`location.href='/users/${content.creator_idx}'`)
                .avatar(style=`background-image:url("${content.profile_img}")`)
                .creator 
                    p #{content.creator}
                    p #{content.creator_email}
            if (locals.isLogin && content.creator_email === locals.user.email)
                .moreBtn.fas.fa-ellipsis-v
                    //- ul
                    //-     li 게시글 삭제
                    //-     li 게스글 수정
            else
                div
        .contentsBody(style=`background-image:url("${content.fileUrl}")`)
        .contentsFooter 
            .iconBox
                span.like.far.fa-heart
                span.comment.far.fa-comment(onclick=`location.href='/contents/detail/${content.idx}'`)
                input(type='hidden', name='content_id', value=content.idx)
            .likeCnt #{`좋아요 0개`}
            .contents 
                p #{content.title} 
                p #{content.value}
                //- span #{`댓글 ${content.reply.length}개 보기`}

mixin userContentBlock(content = {})
    .contentsBox(onclick=`location.href='/contents/detail/${content.idx}'`)
        .contentsBody(style=`background-image:url("${content.fileUrl}")`)

mixin contentDetailBlock(content = {})
    .contentsBox
        .contentsHeader
            .creatorBox(onclick=`location.href='/users/${content.creator_idx}'`)
                .avatar(style=`background-image:url("${content.profile_img}")`)
                span.creator #{content.creator}
            div #{content.title} 
            if (locals.isLogin && content.creator_email === locals.user.email)
                .moreBtn.fas.fa-ellipsis-v
                    //- ul
                    //-     li 게시글 삭제
                    //-     li 게스글 수정
            else
                div
        .contentsBody(style=`background-image:url("${content.fileUrl}")`)

